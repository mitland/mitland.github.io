(this["webpackJsonpredux-test"]=this["webpackJsonpredux-test"]||[]).push([[0],{114:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(12),o=r.n(a),i=r(14),s=r(174),u=r(17),j=r(16),l=r(11),b=r(7),d=r(177),h=r(160),O=r(175),f=r(80),x=r.n(f),p=r(52),m=r(154),g=r(157),v="Name should be at least 1 charecter",y="Name can only have alphabetical characters";function N(e){var t=function(e){return{error:e,isValid:0===e.length}};return 0===e.length?t(v):e.match(/[^a-zA-Z\u0430-\u044f\u0410-\u042f]+/g)?t(y):t("")}var E=r(47),C=r(59),w={key:"auth_user",getUser:function(){return JSON.parse(localStorage.getItem(this.key))},setUser:function(e){localStorage.setItem(this.key,JSON.stringify(e))},removeUser:function(){localStorage.removeItem(this.key)}},R=Object(E.b)({name:"auth",initialState:{user:w.getUser()},reducers:{login:function(e,t){e.user=k(t.payload.name)},logout:function(e){e.user=null}}}),k=function(e){return{name:e}},S=R.actions,T=S.login,I=S.logout,F=Object(C.a)((function(e){return e.auth.user}),(function(e){return null!==e})),q=R.reducer,P=r(2),D=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _(){var e=D(),t=Object(j.g)(),r=Object(i.b)(),c=Object(n.useState)({name:""}),a=Object(b.a)(c,2),o=a[0].name,s=a[1],u=Object(n.useState)({name:""}),f=Object(b.a)(u,2),m=f[0],v=f[1],y=function(e){return v({name:e})};return Object(P.jsx)(g.a,{component:"main",maxWidth:"xs",children:Object(P.jsxs)("div",{className:e.paper,children:[Object(P.jsx)(d.a,{className:e.avatar,children:Object(P.jsx)(x.a,{})}),Object(P.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(P.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault();var n=N(o),c=n.error;n.isValid?(w.setUser({name:o}),r(T({name:o})),t.push("/")):y(c)},children:[Object(P.jsx)(O.a,{value:o,onChange:function(e){var t=e.target.value,r=N(t),n=r.error,c=r.isValid;y(c?"":n),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{name:t})}))},error:m.name.length>0,helperText:m.name.length>0?m.name:"",variant:"outlined",margin:"normal",fullWidth:!0,id:"name",label:"Username",name:"name",autoComplete:"name",autoFocus:!0}),Object(P.jsx)(h.a,{className:e.submit,type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Sign In"})]})]})})}var U=r(163),B=r(161),A=r(162),L=function(e){var t=e.className,r=e.to,n=e.children,c=e.component;return Object(P.jsx)(h.a,{to:r,component:c,className:t,color:"secondary","aria-label":"home",children:n})};L.defaultProps={component:u.b};var W=L,H=function(e){return Object(P.jsx)(W,Object(l.a)(Object(l.a)({},e),{},{to:"/login",children:"Login"}))},M=function(e){return Object(P.jsx)(W,Object(l.a)(Object(l.a)({},e),{},{to:"/logout",children:"Logout"}))},z=Object(m.a)({logo:{height:"50px"}});function J(){var e=z();return Object(P.jsx)(u.b,{to:"/",children:Object(P.jsx)("img",{className:e.logo,src:"/iliustrations/logo.png",alt:"logo"})})}var V=r(178),G=r(32),X=r.n(G);var Z=function(){var e=Object(j.g)(),t=Object(j.h)(),r=X.a.parse(t.search).name,c=void 0===r?"":r,a=Object(l.a)({focus:!1},t.state).focus,o=function(e,t){var r=Object(n.useRef)(null);return function(){for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];var o=r.current;o&&clearTimeout(o),r.current=setTimeout((function(){e.apply(void 0,c)}),t)}}((function(t){var r=t.target.value;e.push("/search?name=".concat(r),{focus:!0})}),200);return Object(P.jsx)(V.a,{autoFocus:a,defaultValue:c,placeholder:"Search character here...",inputProps:{"aria-label":"search"},onChange:o})},K=Object(m.a)({header:{backgroundColor:"white"}});var Q=function(e){var t=e.children,r=K(),n=Object(i.c)(F);return Object(P.jsx)(B.a,{position:"static",children:Object(P.jsx)(A.a,{className:r.header,children:Object(P.jsxs)(U.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(P.jsx)(J,{}),n?Object(P.jsx)(Z,{}):null,n?Object(P.jsx)(M,{}):Object(P.jsx)(H,{}),t]})})})},Y=Object(m.a)({bodyContainer:{marginTop:"50px"}}),$=function(e){var t=e.children,r=Y();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Q,{}),Object(P.jsx)("div",{className:r.bodyContainer,children:t})]})};function ee(){return Object(P.jsx)($,{children:Object(P.jsx)(_,{})})}function te(){var e=Object(j.g)(),t=Object(i.b)(),r=Object(i.c)(F);return Object(n.useEffect)((function(){w.removeUser(),t(I())}),[t]),Object(n.useEffect)((function(){r||e.replace("/")}),[r,e]),Object(P.jsx)($,{children:"Loader"})}var re=r(81),ne=r.n(re),ce=function(e){return Object(P.jsx)(W,Object(l.a)(Object(l.a)({},e),{},{to:"/",children:Object(P.jsx)(ne.a,{})}))},ae={homeButton:{marginTop:20,color:"green"}},oe=ae,ie=ae,se=Object(m.a)({errorBox:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},errorContainer:{height:"100vh"}});var ue=function(e){var t=e.errorName,r=e.errorText,n=e.children,c=se();return Object(P.jsx)("div",{className:c.errorContainer,children:Object(P.jsxs)("div",{className:c.errorBox,children:[Object(P.jsx)(p.a,{variant:"h4",children:t}),Object(P.jsx)(p.a,{variant:"subtitle1",children:r}),n]})})},je=Object(m.a)(oe);var le=function(){var e=je();return Object(P.jsx)(ue,{errorName:"404",errorText:"Sorry we could not found the page",children:Object(P.jsx)(ce,{className:e.homeButton})})};function be(){return Object(P.jsx)($,{children:Object(P.jsx)(le,{})})}function de(){return Object(P.jsx)(j.a,{to:"/episode"})}var he=Object(m.a)({box:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},container:{height:"100vh",backgroundImage:"url('/iliustrations/indexCover.jpg')",backgroundRepeat:"no-repeat",backgroundSize:"cover"},loginButton:{height:"50px",width:"25vw",backgroundColor:"black"}});function Oe(){var e=he();return Object(P.jsx)($,{children:Object(P.jsx)("div",{className:e.container,children:Object(P.jsx)("div",{className:e.box,children:Object(P.jsx)(h.a,{to:"/login",component:u.b,variant:"contained",color:"primary",className:e.loginButton,"aria-label":"login",children:"Come on Morty"})})})})}function fe(){return Object(i.c)(F)?Object(P.jsx)(de,{}):Object(P.jsx)(Oe,{})}var xe={box:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},container:{height:"100vh"},loginButton:{height:"50px",width:"25vw",backgroundColor:"black"}},pe=r(167),me=r(176),ge=r(159),ve=r(164),ye=r(165),Ne=r(166),Ee=r(82),Ce=r.n(Ee),we=r(5),Re=r.n(we);Re.a.shape({id:Re.a.number.isRequired,air_date:Re.a.string.isRequired,episode:Re.a.string.isRequired,name:Re.a.string.isRequired});var ke=function(e){var t=e.episode;return Object(P.jsx)(u.b,{to:"/episode/".concat(t.id),children:Object(P.jsxs)(ve.a,{children:[Object(P.jsx)(ye.a,{children:Object(P.jsx)(d.a,{children:Object(P.jsx)(Ce.a,{})})}),Object(P.jsx)(Ne.a,{primary:t.episode,secondary:t.air_date}),Object(P.jsx)(Ne.a,{secondary:t.name})]})})};var Se=function(e){var t=e.episodes,r=e.pageConfig;return Object(P.jsxs)("div",{children:[Object(P.jsx)(ge.a,{children:t.map((function(e){return Object(P.jsx)(ke,{episode:e},e.id)}))}),Object(P.jsx)(me.a,Object(l.a)({shape:"rounded"},r))]})},Te=r(71),Ie=r.n(Te),Fe=r(83),qe="EPISODE_NOTHING_FOUND_ERROR",Pe="EPISODE_UNEXPECTED_ERROR",De=function(e){return fetch("https://rickandmortyapi.com/api/episode?page=".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(qe);return e})).catch(Ue)},_e=function(e){return fetch("https://rickandmortyapi.com/api/episode/".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(qe);return e})).catch(Ue)},Ue=function(e){var t=e.message===qe?qe:Pe;throw console.log("error",e),console.log("error.message",e.message),console.log("type",t),new Error(t)},Be=Object(E.b)({name:"episodes",initialState:{byId:{},list:{meta:{pageCount:0},pages:{}}},reducers:{fetchEpisodesPageStart:function(e,t){var r=t.payload.page;Ae(e,r),Le(e,r,{isFetching:!0})},fetchEpisodesPageSuccess:function(e,t){var r=t.payload,n=r.page,c=r.pageData.episodes,a=r.meta;Le(e,n,{isFetching:!1,error:null,episodes:c.map((function(e){return e.id}))}),We(e,c),He(e,a)},fetchEpisodesPageFailure:function(e,t){var r=t.payload,n=r.page,c=r.error;Le(e,n,{isFetching:!1,error:c})},addEpisode:function(e,t){var r=t.payload.episode;We(e,[r])}}}),Ae=function(e,t){e.list.pages[t]={page:t,episodes:[],isFetching:!1,error:null}},Le=function(e,t,r){return Object.assign(e.list.pages[t],r)},We=function(e,t){t.forEach((function(t){e.byId[t.id]=t}))},He=function(e,t){e.list.meta.pageCount=t.pageCount||0},Me=Be.actions,ze=Me.addEpisode,Je=Me.fetchEpisodesPageStart,Ve=Me.fetchEpisodesPageSuccess,Ge=Me.fetchEpisodesPageFailure,Xe=function(e){return e.episodes.list.meta},Ze=Object(C.a)([function(e){return e.episodes.byId},function(e,t){return t}],(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){return e[t]}))})),Ke=Be.reducer;function Qe(e){switch(e.error){case qe:return Object(P.jsx)(ue,{errorName:"Nothing to find",errorText:"Sorry there are no episodes"});case Pe:default:return Object(P.jsx)(ue,{errorName:"UnexpectedError",errorText:"Sorry there was a problem"})}}function Ye(){var e=Object(i.b)(),t=Object(j.g)(),r=Object(j.h)(),c=X.a.parse(r.search).page,a=void 0===c?1:c,o=Object(i.c)(Xe),s=Object(i.c)((function(e){return function(e,t){return function(e){return e.episodes.list.pages}(e)[t]}(e,a)})),u=Object(i.c)((function(e){return Ze(e,s&&s.episodes)}));Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[a]),Object(n.useEffect)((function(){var t;s||e((t=a,function(){var e=Object(Fe.a)(Ie.a.mark((function e(r){var n,c,a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return{page:t,pageData:{episodes:e.results||[]},meta:{pageCount:e.info.pages}}},e.prev=1,r(Je({page:t})),e.next=5,De(t);case 5:n=e.sent,c=a(n),r(Ve(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(Ge({page:t,error:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[a,s,e]);return!s||s.isFetching?Object(P.jsx)(pe.a,{}):s.error?Object(P.jsx)(Qe,{error:s.error}):Object(P.jsx)(Se,{episodes:u,pageConfig:{page:Number(a),count:o.pageCount,onChange:function(e,r){return t.push("?page=".concat(r))}}})}var $e=Object(m.a)(xe);function et(){var e=$e();return Object(P.jsx)($,{children:Object(P.jsx)("div",{className:e.container,children:Object(P.jsx)("div",{className:e.box,children:Object(P.jsx)(Ye,{})})})})}var tt=function(e){var t=Object(n.useRef)(e),r=Object(n.useState)(null),c=Object(b.a)(r,2),a=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(b.a)(i,2),u=s[0],j=s[1],l=Object(n.useState)(!1),d=Object(b.a)(l,2),h=d[0],O=d[1],f=Object(n.useState)(null),x=Object(b.a)(f,2),p=x[0],m=x[1];return[{response:a,meta:{fetchedOnce:u,isFetching:h,error:p}},Object(n.useCallback)((function(){j(!0),O(!0),m(null);var e=t.current;return e.apply(void 0,arguments).then((function(e){return o(e),O(!1),e})).catch((function(e){throw m(e),O(!1),new Error(e)}))}),[])]},rt={catchError:console.error},nt=Object(n.createContext)(null),ct=function(){return Object(n.useContext)(nt)},at=function(e){var t=e.episodeId,r=e.children,c=Object(i.b)(),a=Object(i.c)((function(e){return function(e,t){return e.episodes.byId[t]}(e,t)})),o=tt(_e),s=Object(b.a)(o,2),u=s[0],j=s[1];Object(n.useEffect)((function(){a&&t===String(a.id)||j(t).then((function(e){c(ze({episode:e}))})).catch(rt.catchError)}),[t,a,c,j]);var l=Object(n.useMemo)((function(){return[a,u.meta]}),[a,u]);return Object(P.jsx)(nt.Provider,{value:l,children:r})};function ot(e){switch(e.error){case qe:return Object(P.jsx)(ue,{errorName:"Nothing found",errorText:"Sorry, such episode does not exist"});case Pe:default:return Object(P.jsx)(ue,{errorName:"UnexpectedError",errorText:"Sorry there was a problem"})}}function it(){var e=ct(),t=Object(b.a)(e,2),r=t[0],n=t[1],c=n.isFetching,a=n.error;return!r||c?Object(P.jsx)(pe.a,{}):a?Object(P.jsx)(ot,{error:a.message}):Object(P.jsx)("div",{children:Object(P.jsx)(ke,{episode:r})})}var st=r(168),ut=r(170),jt=r(172),lt=r(171),bt=r(169),dt=(Re.a.shape({id:Re.a.number.isRequired,name:Re.a.string.isRequired,status:Re.a.string.isRequired,species:Re.a.string.isRequired,gender:Re.a.string.isRequired,image:Re.a.string.isRequired,origin:Re.a.shape({name:Re.a.string.isRequired,url:Re.a.string.isRequired}).isRequired,location:Re.a.shape({name:Re.a.string.isRequired,url:Re.a.string.isRequired}).isRequired}),Object(m.a)({card:{width:345,marginBottom:50},media:{height:140}}));function ht(e){var t=e.character,r=e.onLocationClick,n=dt();return Object(P.jsxs)(st.a,{className:n.card,children:[Object(P.jsxs)(bt.a,{children:[Object(P.jsx)(ut.a,{className:n.media,image:t.image,title:t.name}),Object(P.jsxs)(lt.a,{children:[Object(P.jsxs)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[Object(P.jsx)("span",{children:t.name}),Object(P.jsx)("span",{children:"-"}),Object(P.jsx)("span",{children:t.status})]}),Object(P.jsx)(p.a,{variant:"body2",color:"textSecondary",component:"p",children:t.species})]})]}),Object(P.jsxs)(jt.a,{children:[Object(P.jsx)(h.a,{size:"small",color:"primary",onClick:function(){return r(t.origin)},children:t.origin.name}),Object(P.jsx)(h.a,{size:"small",color:"primary",onClick:function(){return r(t.location)},children:t.location.name})]})]},t.id)}var Ot="CHARACTER_NOTHING_FOUND_ERROR",ft="CHARACTER_UNEXPECTED_ERROR",xt=function(e){var t=e.join(",");return fetch("https://rickandmortyapi.com/api/character/".concat(t)).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(Ot);return e})).catch(mt)},pt=function(e){var t=X.a.stringify(e);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AbortController,n=r.signal;return function e(t){return t instanceof Promise&&(t.then=function(t,r){var n=Object.getPrototypeOf(this).then.call(this,t,r);return e(n)},t.controller=r),t}(fetch(e,Object(l.a)({signal:n},t)))}("https://rickandmortyapi.com/api/character?".concat(t)).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(Ot);return e})).catch(mt)},mt=function(e){var t=e.message===Ot?Ot:ft;throw new Error(t)},gt=function(e){return e?e.map((function(e){return e.split("character/")[1]})):[]},vt=function(e){var t=tt(xt),r=Object(b.a)(t,2),c=r[0],a=r[1];return Object(n.useEffect)((function(){if(e){var t=gt(e);a(t)}}),[e,a]),[c.response,c.meta]},yt=function(e){return e?e.split("location/")[1]:""};function Nt(e){switch(e.error){case Ot:return Object(P.jsx)(ue,{errorName:"Nothing found",errorText:"Sorry, there are no characters"});case ft:default:return Object(P.jsx)(ue,{errorName:"UnexpectedError",errorText:"Sorry there was a problem"})}}var Et=Object(m.a)({root:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"}}),Ct=function(){var e=Et(),t=Object(j.g)(),r=ct(),n=Object(b.a)(r,2),c=n[0],a=n[1],o=a.isFetching,i=a.fetchedOnce,s=vt(c&&c.characters),u=Object(b.a)(s,2),l=u[0],d=u[1],h=d.isFetching,O=d.fetchedOnce,f=d.error,x=function(e){var r=yt(e.url);r&&t.push("/location/".concat(r))};return!(i||O)||(o||h)?Object(P.jsx)(pe.a,{}):f?Object(P.jsx)(Nt,{error:f.message}):c&&l?Object(P.jsx)("div",{className:e.root,children:l.map((function(e){return Object(P.jsx)(ht,{character:e,onLocationClick:x},e.id)}))}):null},wt=Object(m.a)(xe);function Rt(e){var t=e.match,r=wt(),n=t.params.id;return Object(P.jsx)($,{children:Object(P.jsx)("div",{className:r.container,children:Object(P.jsx)("div",{className:r.box,children:Object(P.jsx)(at,{episodeId:n,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(it,{}),Object(P.jsx)(Ct,{})]})})})})})}var kt="LOCATION_NOTHING_FOUND_ERROR",St="LOCATION_UNEXPECTED_ERROR",Tt=function(e){return fetch("https://rickandmortyapi.com/api/location/".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(kt);return e})).catch(It)},It=function(e){var t=e.message===kt?kt:St;throw new Error(t)},Ft=Object(n.createContext)(null),qt=function(){return Object(n.useContext)(Ft)},Pt=function(e){var t=e.locationId,r=e.children,c=tt(Tt),a=Object(b.a)(c,2),o=a[0],i=a[1];Object(n.useEffect)((function(){i(t).catch(rt.catchError)}),[t,i]);var s=Object(n.useMemo)((function(){return[o.response,Object(l.a)({},o.meta)]}),[o.response,o.meta]);return Object(P.jsx)(Ft.Provider,{value:s,children:r})},Dt=r(84),_t=r.n(Dt);Re.a.shape({id:Re.a.number.isRequired,name:Re.a.string.isRequired,type:Re.a.string.isRequired,dimension:Re.a.string.isRequired,residents:Re.a.arrayOf(Re.a.string).isRequired});var Ut=function(e){var t=e.location;return Object(P.jsx)(ge.a,{children:Object(P.jsxs)(ve.a,{children:[Object(P.jsx)(ye.a,{children:Object(P.jsx)(d.a,{children:Object(P.jsx)(_t.a,{})})}),Object(P.jsx)(Ne.a,{primary:t.name,secondary:t.dimension}),Object(P.jsx)(Ne.a,{secondary:t.type})]})},t.id)};function Bt(e){switch(e.error){case kt:return Object(P.jsx)(ue,{errorName:"Nothing found",errorText:"Sorry, such location does not exist"});case St:default:return Object(P.jsx)(ue,{errorName:"UnexpectedError",errorText:"Sorry there was a problem"})}}function At(){var e=qt(),t=Object(b.a)(e,2),r=t[0],n=t[1],c=n.fetchedOnce,a=n.isFetching,o=n.error;return!c||a?Object(P.jsx)(pe.a,{}):o?Object(P.jsx)(Bt,{error:o.message}):Object(P.jsx)("div",{children:Object(P.jsx)(Ut,{location:r})})}var Lt=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},Wt=r(13),Ht=function(e,t){var r=t.initOffset,c=t.initLimit,a=Object(n.useRef)({offset:r,limit:c}),o=Object(n.useState)([]),i=Object(b.a)(o,2),s=i[0],u=i[1],j=tt(xt),l=Object(b.a)(j,2),d=l[0],h=l[1],O=function(){var e=a.current,t=e.offset,r=e.limit;a.current.offset=t+r},f=function(e){u((function(t){return[].concat(Object(Wt.a)(t),Object(Wt.a)(x(e)))}))},x=function(e){return Array.isArray(e)?e:[e]},p=function(e){var t=a.current,r=t.offset,n=t.limit;return gt(e).slice(r,r+n)};return[s,d.meta,{nextCharacters:function(){!function(e){var t=p(e);0!==t.length&&h(t).then(f).then(O).catch(rt.catchError)}(e)},resetCharacters:function(){a.current.offset=r,u([])}}]},Mt=Object(m.a)({root:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"}}),zt=function(){var e=Mt(),t=Object(j.g)(),r=qt(),c=Object(b.a)(r,2),a=c[0],o=c[1],i=Lt(a),s=a&&a.residents,u=Ht(s,{initOffset:0,initLimit:8}),l=Object(b.a)(u,3),d=l[0],O=l[1],f=l[2],x=f.nextCharacters,p=f.resetCharacters;Object(n.useEffect)((function(){a&&i!==a&&(p(),x())}),[i,a,p,x]);var m=x,g=function(e){var r=yt(e.url);r&&t.push("/location/".concat(r))};return o.isFetching||O.isFetching?Object(P.jsx)(pe.a,{}):a?O.error?Object(P.jsx)(Nt,{error:O.error.message}):Object(P.jsxs)("div",{className:e.root,children:[d.map((function(e){return Object(P.jsx)(ht,{character:e,onLocationClick:g},e.id)})),o.isFetching||O.isFetching?Object(P.jsx)(pe.a,{}):null,d.length<s.length&&Object(P.jsx)(h.a,{onClick:m,children:"Next"})]}):null},Jt=Object(m.a)({box:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},container:{height:"100vh"},loginButton:{height:"50px",width:"25vw",backgroundColor:"black"}});function Vt(e){var t=e.match,r=Jt(),n=t.params.id;return Object(P.jsx)($,{children:Object(P.jsx)("div",{className:r.container,children:Object(P.jsx)("div",{className:r.box,children:Object(P.jsx)(Pt,{locationId:n,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(At,{}),Object(P.jsx)(zt,{})]})})})})})}function Gt(){var e=Object(j.g)(),t=Object(j.h)(),r=Object(n.useRef)({init:null,pagination:null}),c=X.a.parse(t.search).name,a=void 0===c?"":c,o=tt(pt),i=Object(b.a)(o,2),s=i[0],u=s.response,l=s.meta,d=i[1],O=Object(n.useState)([]),f=Object(b.a)(O,2),x=f[0],p=f[1],m=Object(n.useCallback)((function(){var e=r.current,t=e.init,n=e.pagination;t&&t.controller.abort(),n&&n.controller.abort()}),[]);Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[a]),Object(n.useEffect)((function(){var e=d({name:a}).then((function(e){var t=e.results;p(t)})).catch((function(){return p([])}));return r.current.init=e,m}),[a,d,m]);var g=function(e){p((function(t){return[].concat(Object(Wt.a)(t),Object(Wt.a)(e))}))},v=function(t){var r=yt(t.url);r&&e.push("/location/".concat(r))},y=function(){if(!u)return t(0);if(!u.info.next)return t(0,!1);var e=u.info.next.split("?")[1];return t(X.a.parse(e).page);function t(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{haveNext:t,nextPage:e}}}(),N=y.haveNext,E=y.nextPage;return l.isFetching?Object(P.jsx)(pe.a,{}):l.error?Object(P.jsx)(Nt,{error:l.error.message}):Object(P.jsxs)("div",{children:[x.map((function(e){return Object(P.jsx)(ht,{character:e,onLocationClick:v},e.id)})),N?Object(P.jsx)(h.a,{onClick:function(){return function(e,t){var n=d({name:e,page:t}).then((function(e){var t=e.results;return g(t)}));r.current.pagination=n}(a,E)},children:"Next"}):null]})}var Xt=Object(m.a)({box:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},container:{height:"100vh"},loginButton:{height:"50px",width:"25vw",backgroundColor:"black"}});function Zt(){var e=Xt();return Object(P.jsx)($,{children:Object(P.jsx)("div",{className:e.container,children:Object(P.jsx)("div",{className:e.box,children:Object(P.jsx)(Gt,{})})})})}var Kt=r(3);function Qt(e){var t=e.guards,r=void 0===t?[]:t,a=e.component,o=Object(Kt.a)(e,["guards","component"]),i=Object(n.useCallback)((function(e){return c.a.cloneElement(a,e)}),[a]),s=Object(n.useCallback)((function(e,t){return e.reverse().reduce((function(e,t){return t(e)}),t)}),[]),u=Object(n.useMemo)((function(){return 0===r.length?i:s(r,i)}),[r,s,i]);return Object(P.jsx)(j.b,Object(l.a)(Object(l.a)({},o),{},{render:function(e){return Object(P.jsx)(u,Object(l.a)({},e))}}))}var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{to:"/"};return function(t){return function(r){return Object(i.c)(F)?Object(P.jsx)(j.a,{to:e.to}):Object(P.jsx)(t,Object(l.a)({},r))}}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{to:"/login"};return function(t){return function(r){return Object(i.c)(F)?Object(P.jsx)(t,Object(l.a)({},r)):Object(P.jsx)(j.a,{to:e.to})}}};function er(){return Object(P.jsx)(u.a,{children:Object(P.jsxs)(j.d,{children:[Object(P.jsx)(Qt,{exact:!0,path:"/",component:Object(P.jsx)(fe,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/episode",guards:[$t()],component:Object(P.jsx)(et,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/episode/:id",guards:[$t()],component:Object(P.jsx)(Rt,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/location/:id",guards:[$t()],component:Object(P.jsx)(Vt,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/search",guards:[$t()],component:Object(P.jsx)(Zt,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/login",guards:[Yt()],component:Object(P.jsx)(ee,{})}),Object(P.jsx)(Qt,{exact:!0,path:"/logout",guards:[$t()],component:Object(P.jsx)(te,{})}),Object(P.jsx)(Qt,{exact:!0,path:"*",component:Object(P.jsx)(be,{})})]})})}var tr=r(63),rr=r(34),nr=r(86),cr=r(85),ar=r(173),or=Object(m.a)(ie);function ir(){var e=or();return Object(P.jsx)(ue,{errorName:"Oops",errorText:"We have experienced an unexpected error",children:Object(P.jsx)(ce,{className:e.homeButton,component:ar.a})})}var sr=function(e){Object(nr.a)(r,e);var t=Object(cr.a)(r);function r(e){var n;return Object(tr.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(rr.a)(r,[{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?Object(P.jsx)(ir,{}):t}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(n.Component);var ur=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(s.a,{}),Object(P.jsx)(sr,{children:Object(P.jsx)(er,{})})]})},jr=Object(E.a)({reducer:{auth:q,episodes:Ke}});o.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(i.a,{store:jr,children:Object(P.jsx)(ur,{})})}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.59d6e9a6.chunk.js.map